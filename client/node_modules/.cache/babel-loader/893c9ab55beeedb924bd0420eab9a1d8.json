{"ast":null,"code":"import React,{useEffect}from\"react\";import{Router,Route,Switch,Redirect}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"../utils/setAuthToken\";import{setCurrentUser,logoutUser}from\"../actions/authActions\";import{Provider}from\"react-redux\";import store from\"../store\";import{history}from\"./helper/history\";import PrivateRoute from\"./Private-route/PrivateRoute\";import Home from\"./Home\";import Register from\"./Auth/Register\";import Login from\"./Auth/Login\";import Dashboard from\"./Dashboard/Dashboard\";import LogoHeader from\"./Layout/LogoHeader\";import Footer from\"./Layout/Footer\";{/*keep user logged in */}if(localStorage.jwtToken){var token=localStorage.jwtToken;setAuthToken(token);var decoded=jwt_decode(token);store.dispatch(setCurrentUser(decoded));var currentTime=Date.now()/1000;if(decoded.exp<currentTime){store.dispatch(logoutUser());window.location.href=\"./login\";}}var App=function App(){return/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(Router,{history:history},/*#__PURE__*/React.createElement(LogoHeader,null),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:Home}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",component:Register}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard}))),/*#__PURE__*/React.createElement(Footer,null));};export default App;","map":{"version":3,"sources":["/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANKING-WEB-APP/client/src/components/App.jsx"],"names":["React","useEffect","Router","Route","Switch","Redirect","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","store","history","PrivateRoute","Home","Register","Login","Dashboard","LogoHeader","Footer","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,MAAR,CAAeC,KAAf,CAAsBC,MAAtB,CAA8BC,QAA9B,KAA6C,kBAA7C,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA,OAAQC,cAAR,CAAwBC,UAAxB,KAAyC,wBAAzC,CAEA,OAAQC,QAAR,KAAuB,aAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CAEA,OAAQC,OAAR,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,cAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CAEA,CAAC,wBAAyB,CAC1B,GAAGC,YAAY,CAACC,QAAhB,CAAyB,CACrB,GAAMC,CAAAA,KAAK,CAAGF,YAAY,CAACC,QAA3B,CACAd,YAAY,CAACe,KAAD,CAAZ,CAEA,GAAMC,CAAAA,OAAO,CAAGjB,UAAU,CAACgB,KAAD,CAA1B,CACAX,KAAK,CAACa,QAAN,CAAehB,cAAc,CAACe,OAAD,CAA7B,EAEA,GAAME,CAAAA,WAAW,CAAEC,IAAI,CAACC,GAAL,GAAa,IAAhC,CACA,GAAIJ,OAAO,CAACK,GAAR,CAAcH,WAAlB,CAA8B,CAC1Bd,KAAK,CAACa,QAAN,CAAef,UAAU,EAAzB,EAEAoB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACH,CAGF,CAGH,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAEd,mBACK,oBAAC,QAAD,EAAU,KAAK,CAAErB,KAAjB,eACG,oBAAC,MAAD,EAAQ,OAAO,CAAEC,OAAjB,eACI,oBAAC,UAAD,MADJ,cAGI,oBAAC,MAAD,mBACI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAG,GAApB,CAAwB,SAAS,CAAIE,IAArC,EADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAG,OAAd,CAAsB,SAAS,CAAIA,IAAnC,EAFJ,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAG,WAAd,CAA0B,SAAS,CAAIC,QAAvC,EAHJ,cAII,oBAAC,KAAD,EAAO,IAAI,CAAG,QAAd,CAAuB,SAAS,CAAIC,KAApC,EAJJ,cAKI,oBAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,YAAzB,CAAsC,SAAS,CAAEC,SAAjD,EALJ,CAHJ,CADH,cAYG,oBAAC,MAAD,MAZH,CADL,CAiBH,CAnBD,CAqBA,cAAee,CAAAA,GAAf","sourcesContent":["import React, {useEffect} from \"react\";\nimport {Router,Route, Switch, Redirect} from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport {setCurrentUser, logoutUser} from \"../actions/authActions\";\n\nimport {Provider} from \"react-redux\";\nimport store from \"../store\";\n\nimport {history} from \"./helper/history\";\nimport PrivateRoute from \"./Private-route/PrivateRoute\";\nimport Home from \"./Home\";\nimport Register from \"./Auth/Register\";\nimport Login from \"./Auth/Login\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport LogoHeader from \"./Layout/LogoHeader\";\nimport Footer from \"./Layout/Footer\";\n\n{/*keep user logged in */}\nif(localStorage.jwtToken){\n    const token = localStorage.jwtToken;\n    setAuthToken(token);\n  \n    const decoded = jwt_decode(token);\n    store.dispatch(setCurrentUser(decoded));\n    \n    const currentTime= Date.now() / 1000;\n    if (decoded.exp < currentTime){\n        store.dispatch(logoutUser());\n  \n        window.location.href = \"./login\";\n    }\n  \n  \n  }\n\n\nconst App = () => {\n\n    return (\n         <Provider store={store}>\n            <Router history={history}>     \n                <LogoHeader />\n            \n                <Switch>\n                    <Route exact path = \"/\" component = {Home}/>\n                    <Route path = \"/home\" component = {Home}/>\n                    <Route path = \"/register\" component = {Register}/>\n                    <Route path = \"/login\" component = {Login}/>\n                    <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n            </Switch>\n            </Router>\n            <Footer />\n        </Provider>            \n\n    )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}