{"ast":null,"code":"import _defineProperty from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANKING-WEB-APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANKING-WEB-APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANKING-WEB-APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import classnames from\"classnames\";import{loginUser,setCurrentUser}from\"../../actions/authActions\";import{createBrowserHistory}from'history';var history=createBrowserHistory();var Login=function Login(){var _useState=useState({email:\"\",password:\"\",errors:{}}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{auth:state.auth,errors:state.errors};}),auth=_useSelector.auth,errors=_useSelector.errors;useEffect(function(){if(auth.isAuthenticated){window.location.href=\"./dashboard\";}});var HandleChange=function HandleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});console.log(userData);};var HandleSubmit=function HandleSubmit(event){event.preventDefault();if(userData.email&&userData.password&&userData.errors){dispatch(loginUser(userData));}console.log(userData);if(auth.isAuthenticated){history.push(\"/dashboard\");}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s8 offset-s2\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"btn-flat waves-effect\",style:{paddingRight:\"410px\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons left\"},\"keyboard_backspace\"),\" Back to home\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col s0\",style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"h4\",{style:{paddingRight:\"40px\"}},/*#__PURE__*/React.createElement(\"b\",null,\"Log in\"),\" below\"),/*#__PURE__*/React.createElement(\"p\",{className:\"grey-text text-darken-1\",style:{paddingRight:\"9px\"}},\"Don't have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register\"))),/*#__PURE__*/React.createElement(\"form\",{noValidate:true},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{onChange:HandleChange,name:\"email\",type:\"email\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{onChange:HandleChange,name:\"password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\",style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:HandleSubmit},\"Log in\")))))));};export default Login;","map":{"version":3,"sources":["/Users/omoruyiohuoba/Desktop/APPS/WEB DEVELOPMENT/BLOOMBANK-BANKING-WEB-APP/client/src/components/Auth/Login.jsx"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","classnames","loginUser","setCurrentUser","createBrowserHistory","history","Login","email","password","errors","userData","setUserData","dispatch","state","auth","isAuthenticated","window","location","href","HandleChange","event","target","name","value","prevData","console","log","HandleSubmit","preventDefault","push","paddingRight","paddingLeft"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport classnames from \"classnames\";\nimport {loginUser, setCurrentUser} from \"../../actions/authActions\";\nimport { createBrowserHistory } from 'history';\nconst history = createBrowserHistory();\n\nconst Login = () => {\n\nconst [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\",\n    errors:{},\n});\n\nconst dispatch = useDispatch();\n\nconst { auth, errors } = useSelector(state => ({\n  auth: state.auth,\n  errors: state.errors,\n})); \n\nuseEffect(()=> {\n  if(auth.isAuthenticated){\n    window.location.href = \"./dashboard\";    \n    }\n\n});\n\n    const HandleChange = (event) => {\n        const {name, value} =event.target;\n\n        setUserData(prevData => {\n            return {\n                ...prevData, [name]: value\n            }\n        });\n\n        console.log(userData);\n    }\n\n    const HandleSubmit = (event) => {\n        event.preventDefault();\n\n        if(userData.email && userData.password && userData.errors){\n          dispatch(loginUser(userData))\n          \n        }\n        console.log(userData);\n\n    if(auth.isAuthenticated){\n        history.push(\"/dashboard\")\n      \n    }\n\n\n\n    }\n\n\n  \n    return (\n        <div>\n            <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col s8 offset-s2\">\n            <Link to=\"/\" className=\"btn-flat waves-effect\" style={{ paddingRight: \"410px\" }}>\n              <i className=\"material-icons left\">keyboard_backspace</i> Back to\n              home\n            </Link>\n            <div className=\"col s0\" style={{ paddingLeft: \"11.250px\" }}>\n              <h4 style={{ paddingRight: \"40px\" }}>\n                <b>Log in</b> below\n              </h4>\n              <p className=\"grey-text text-darken-1\" style={{ paddingRight: \"9px\" }}>\n                Don't have an account? <Link to=\"/register\">Register</Link>\n              </p>\n            </div>\n            <form noValidate >\n              <div className=\"input-field col s12\">\n                <input\n               onChange={HandleChange}\n               name=\"email\"\n               type=\"email\"\n\n                />\n                <label htmlFor=\"email\">Email</label>\n              </div>\n              <div className=\"input-field col s12\">\n                <input\n                onChange={HandleChange}\n                name=\"password\"\n                type=\"password\"\n\n                />\n                <label htmlFor=\"password\">Password</label>\n              </div>\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                <button\n                  type=\"submit\"   \n                  onClick={HandleSubmit}  \n                >\n                  Log in\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}